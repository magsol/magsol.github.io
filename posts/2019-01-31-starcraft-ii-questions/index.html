<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Shannon Quinn">

<title>StarCraft II Questions – Stochastic Stenography</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-cd884f2855776405ca61470c593c983e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XHDW9H78Z1"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XHDW9H78Z1', { 'anonymize_ip': true});
</script>
<link rel="me" href="https://quinnwitz.house/@magsol">


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="StarCraft II Questions – Stochastic Stenography">
<meta property="og:description" content="Data, donuts, and detours">
<meta property="og:image" content="https://magsol.github.io/posts/2019-01-31-starcraft-ii-questions/do_you_wanna_play_sc2.jpeg">
<meta property="og:site_name" content="Stochastic Stenography">
<meta property="og:locale" content="en_US">
<meta property="og:image:alt" content="A meme image of the Frozen song, with the words instead indicating 'Do you want to play Starcraft?'">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/symbol.png" alt="" class="navbar-logo light-content">
    <img src="../../images/symbol.png" alt="" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Stochastic Stenography</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">StarCraft II Questions</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">personal</div>
                <div class="quarto-category">gaming</div>
                <div class="quarto-category">video games</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Shannon Quinn </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">Posted on the 31st of January in the year 2019, at 3:26pm. It was Thursday.</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><img src="do_you_wanna_play_sc2.jpeg" class="preview-image img-fluid" alt="A meme image of the Frozen song, with the words instead indicating 'Do you want to play Starcraft?'"></p>
<p>I’ve been sick the past couple of days. In between drinking way too much tea, passing out cold, and actually getting the occasional bit of work done, I’ve been (re-)playing a decent amount of <em>StarCraft II</em>, specifically the <em>Legacy of the Void</em> (<em>LotV</em>) campaign. It’s the final installment of SC2, and honestly it’s the one I find most frustrating.</p>
<p>No, it’s not the dialogue, which is <em>super</em> cliche and overwrought, but it’s endemic across the entire SC2 series. Also, the <em>LotV</em> gameplay honestly makes up for it (as is true for most of the SC2 series).</p>
<p>Rather, my problem is with the actual storytelling. There are lots of sprawling story elements but a lot of them just don’t make any sense. <em>Heart of the Swarm</em> (<em>HotS</em>) <a href="https://magsol.wordpress.com/2013/04/01/starcraft-ii-heart-of-the-swarm-review/">had a few chin-scratching moments</a>, but overall the storyline was a pretty clear and well-motivated revenge tale. Even before that, <em>Wings of Liberty</em> (<em>WoL</em>) was a clear and compact story of regret and redemption. So while the <em>LotV</em> gameplay was outstanding, it was extremely jarring for the story to be so jumbled and reliant on retconning a large amount of StarCraft lore.</p>
<p>So may I present, <a href="https://www.youtube.com/watch?v=-x1YuvUQFJ0">inspired by RedLetterMedia’s treatment of <em>Prometheus</em> several years back</a>, a list of questions that came to mind. Presented in no particular order:</p>
<p><img src="like_farmville.jpg" class="img-fluid" alt="A meme image based on a screenshot from in-game Starcraft, with text reading 'Like Farmville, but with attack function.'"></p>
<ul>
<li>So apparently Emil Narud / Samir Duran was <em>also</em> a fallen Xel’Naga, as he said as much in the <em>LotV</em> epilogue missions. Why was he alive all this time, but not Amon? How did he escape Amon’s fate?</li>
<li>Why did he take the form of a human instead of some all-powerful hybrid like the ones he was cultivating in those years? What was stopping Amon from taking the form of a human as well?</li>
<li>What were the purposes of Duran’s machinations in <em>Brood War</em>? As stated at the time, it was in the service of returning Amon and breeding the hybrid, but if he was a full Xel’Naga, why would Amon’s resurrection even be necessary? Couldn’t Narud just remake all life in the universe, then resurrect Amon at his leisure for their <a href="https://en.wikipedia.org/wiki/The_World%27s_End_(film)">post-universe-destruction celebration party</a>?</li>
</ul>
<p><img src="siege_tank_rush.gif" class="img-fluid" alt="A meme image of the original Starcraft with a screen filled with siege tanks, and text saying 'Where is your god now?'"></p>
<ul>
<li>Oh man, the <a href="https://starcraft.fandom.com/wiki/Khala">Khala</a>. Supposedly the thing that both saved the Protoss race back in the day, but also nearly led to their destruction when Amon infiltrated it in <em>LotV</em>. A nice symmetry, sure, but… ok. So. The Khala was linked through khaydarin crystals, which are rife throughout Protoss technology. The Protoss themselves interface with it through their nerve cords, which [SPOILER ALERT] they all sever at the end of <em>LotV</em> to drive Amon back into the Void. But couldn’t he just live on in their technology?</li>
<li>Would the Protoss have to derive entirely new, non-khaydarin crystal technology to completely drive out Amon?</li>
<li>How on Kerrigan’s red Char did they manage to sever the nerve cords of literally all the Protoss of the Golden Armada–including those who had not yet arrived at Aiur–in the two minutes that the keystone was able to contain Amon?! <a href="https://starcraft.fandom.com/wiki/Rohana">Rohana</a> proved that physical distance was not an issue for Amon, only connection to the Khala via nerve cords did. How could they have possibly gotten the order out to all those Protoss in such a short period?</li>
<li>Amon is shown leaving Artanis’ body when Zeratul severs his nerve cords. But couldn’t Amon just possess Artanis? Why was Amon able to inhabit the Khala, but not individuals?</li>
<li>I mean, where is the Khala even centralized? If it’s just the psychic connection between Protoss–and therefore completely decentralized–wouldn’t Amon act more like a virus? Why would severing everyone’s nerve cords suddenly leave Amon homeless? Is severing your nerve cords like a vaccination?</li>
<li>Why would Amon even need a “host body” if he’s able to take over literally all the Khalai Protoss?</li>
</ul>
<p><img src="nuclear_launch.png" class="img-fluid" alt="A meme image of a cat, with text saying 'Nuclear launch detected.'"></p>
<ul>
<li>How did Amon control the Zerg? Through an Overmind? Where was it located? If not, did he exert control over every individual Zerg? How? Why couldn’t he do the same thing through the Protoss? Or hell, even the Terrans?</li>
<li>Did he possess the Zerg? Why couldn’t he control Kerrigan’s Zerg? Or again, the Protoss?</li>
<li>Where was Amon in the intervening period of <em>Heart of the Swarm</em> when he was (presumably) already revived following the conclusion of <em>Wings of Liberty</em>, but not yet the main villain at beginning of <em>LotV</em>? <a href="https://xkcd.com/712/">Drinking at a bar somewhere</a>?</li>
<li>The original StarCraft lore seems to be retconned to suggest (in no uncertain terms) that any and all tampering in the development of the Zerg and Protoss was the fault of Amon and his followers and <em>not</em> part of the original plan put in motion by the Xel’Naga. Does that mean the Khala was Amon’s creation, as well as the Overmind? What was even supposed to happen absent the Khala or the Overmind?</li>
<li>Why was Amon so much more powerful than Ouros? They’re both Xel’Naga; wouldn’t they be evenly matched?</li>
<li>Kerrigan was Xel’Naga for all of an hour before she flat-out blasted Amon out of existence. How? Why was she better equipped to deal with Amon in such short order, compared to a friendly Xel’Naga trapped in the Void for eons?</li>
<li>Sure, maybe the combined might of both Narud and Amon kept Ouros trapped in the Void, but Narud was only with his master for all of a campaign and a half; plus, it was only <em>after</em> Stukov dealt Narud the killing blow in the epilogue that Ouros began the process of giving Kerrigan his essence. Wouldn’t the combined might of Kerrigan and Ouros be infinitely more powerful than just Amon?</li>
<li>If Amon killed all those slumbering Xel’Naga in Ulnar, why wouldn’t they also just return to the Void, as Amon did at the end of <em>LotV</em>?</li>
</ul>
<p><img src="no_patience.jpg" class="img-fluid" alt="A meme image showing a siege tank operator in Starcraft II, with text saying 'Claims to have no patience for sitting around, chooses siege tank operator as his profession.'"></p>
<ul>
<li>The Tal’darim are introduced in <em>WoL</em> as a “fanatical” group of Protoss who generally do their own thing. In <em>LotV</em>, it’s revealed that they’re actually in league with Amon. But in <em>WoL</em>, they are <em>actively</em> fighting <em>against</em> the retrieval of the artifact pieces–an essential step to assembling the artifact, using it to de-infest Kerrigan, and capturing all that power to resurrect Amon. This connection becomes even more confusing when considering that it was Moebius Corps who literally hired Jim Raynor and his Raiders to assemble the artifact pieces.</li>
<li>i.e., Moebius Corps was led by Emil Narud, aka Samir Duran, aka <em>the one dude who’s been trying for millennia to resurrect Amon</em>. Why would the Tal’darim fight directly against him? Did it take them the countless ages between the <a href="https://starcraft.fandom.com/wiki/Aeon_of_Strife">Aeon of Strife</a> and <em>HotS</em> to realize they were working for the same guy?</li>
<li>Do the Tal’darim still have their nerve cords? Are they connected to the Khala?</li>
<li>It would seem not, since after Alarak becomes their highlord and turns them against Amon, I would think Amon’s first course of action would be to take control of them, but he doesn’t, or can’t. But it seems like they <em>do</em> have nerve cords, given Alarak’s huge jagged ponytail thing. So are they somehow <em>not</em> connected to the Khala, despite having nerve cords? If that’s the case, why can’t the Daelaam do the same? Is it a <em>choice</em> to connect to the Khala? Is it like the Force–something you can train yourself to use, but which you can also consciously separate yourself from?</li>
<li>Alarak is, like, wicked powerful. <em>Crazy</em> powerful. He breaks through a stasis field on the <em>Spear of Adun</em> like it was tissue paper, and blasts open an armored door and destroys a warp crystal on Aiur with a <em>single shot</em>. Where was that ability when he was fighting Malash for highlord?</li>
</ul>
<p><img src="7_marines.jpg" class="img-fluid" alt="A meme image showing a Terran Marine, with text reading 'Build 7 marines, lose to 2 zealots.'"></p>
<ul>
<li>The <a href="https://starcraft.fandom.com/wiki/Nerazim">Nerazim</a> are said to draw their power “from the <a href="https://starcraft.fandom.com/wiki/Void">Void</a>”. What even is the Void? Some kind of <a href="https://en.wikipedia.org/wiki/Mirror_Universe">parallel evil dimension</a>?</li>
<li>But the Void clearly has toxic and destabilizing effects on the “current” dimension, since anytime a rift opens it pretty much wipes everything it touches apart. But then, in the epilogue, everyone gears up and heads into the Void! How?!</li>
<li>So, the Dark Templar get their power from the same place as the Xel’Naga? And Amon? Wouldn’t that mean only a Dark Templar can defeat Amon? Or that Amon could pierce Nerazim cloaks?</li>
<li>Or, wouldn’t that mean Amon would have total control over their abilities, making them just as vulnerable to his influence as the Khalai Protoss?</li>
<li>Seriously, how are <em>missiles</em> going to be an effective weapon in the Void?</li>
<li>Against Narud and Amon?</li>
<li><em>AMON</em>.</li>
</ul>
<p><img src="i_got_this.jpeg" class="img-fluid" alt="A meme image showing a lone Terran Marine standing in front of an Ultralisk, with text reading 'GTFO, I got this.'"></p>
<ul>
<li>Let’s talk a bit about Amon’s “plan”. He wanted to break the <a href="https://starcraft.fandom.com/wiki/Infinite_Cycle">Infinite Cycle</a> and remake all life in his image. But the end credits of <em>LotV</em> literally said, that with Kerrigan’s ascension and the alliance’s victory over Amon, the Infinite Cycles came to an end. So… mission accomplished?</li>
<li>So, from the Void, he uses his pawn / follower / fellow Xel’Naga (???) Narud to work on a way to resurrect him, creating “false” hybrid armies in the meantime. Were these hybrid basically accelerated versions of what the Infinite Cycles were supposed to “naturally” result in? I mean, weren’t the Zerg and Protoss ultimately meant to merge?</li>
<li>Amon corrupted the Zerg, creating an overriding imperative to destroy or assimilate the Protoss. Since the Protoss can’t be infested, I would assume that basically amounts to a “kill” order?</li>
<li>Anyway, the Overmind cleverly tries to circumvent that order by creating the Queen of Blades, with supposedly only slightly more free will than it. Why? Where does that slightly-more-free-will come from? Just because she’s Terran, and therefore not a Xel’Naga creation? Or was it something unique to Kerrigan?</li>
<li>Of course, she was only infested <em>after</em> Amon’s death. How was Narud/Duran planning to resurrect his master, then? It was only the <em>de</em>-infestation of Kerrigan that gave him enough power to resurrect Amon. So until that unlikely sequence of infestation-deinfestation events happened, had he just been spending a lot of time on his Pelaton and researching <a href="https://www.tesla.com/powerwall">cutting-edge battery technology</a>?</li>
</ul>
<p>Really, I just think <a href="https://www.youtube.com/watch?v=AX_FxBSEh1A">this game sucks</a>.</p>
<p>(not really tho)</p>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{quinn2019,
  author = {Quinn, Shannon},
  title = {StarCraft {II} {Questions}},
  date = {2019-01-31},
  url = {https://magsol.github.io/2019-01-31-starcraft-ii-questions},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-quinn2019" class="csl-entry quarto-appendix-citeas" role="listitem">
Quinn, Shannon. 2019. <span>“StarCraft II Questions.”</span> January 31,
2019. <a href="https://magsol.github.io/2019-01-31-starcraft-ii-questions">https://magsol.github.io/2019-01-31-starcraft-ii-questions</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/magsol\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<input type="hidden" id="giscus-base-theme" value="dark">
<input type="hidden" id="giscus-alt-theme" value="dark">
<script>
  function loadGiscus() {
    // Function to get the theme based on body class
    const getTheme = () => {
      let baseTheme = document.getElementById('giscus-base-theme').value;
      let altTheme = document.getElementById('giscus-alt-theme').value;
      return document.body.classList.contains('quarto-dark') ? altTheme : baseTheme;
    };
    const script = document.createElement("script");
    script.src = "https://giscus.app/client.js";
    script.async = true;
    script.dataset.repo = "magsol/magsol.github.io";
    script.dataset.repoId = "MDEwOlJlcG9zaXRvcnkyNzYwNTYxNw==";
    script.dataset.category = "Announcements";
    script.dataset.categoryId = "DIC_kwDOAaU6cc4CTutY";
    script.dataset.mapping = "pathname";
    script.dataset.reactionsEnabled = "1";
    script.dataset.emitMetadata = "0";
    script.dataset.inputPosition = "top";
    script.dataset.theme = getTheme();
    script.dataset.lang = "en";
    script.crossOrigin = "anonymous";
    // Append the script to the desired div instead of at the end of the body
    document.getElementById("quarto-content").appendChild(script);
  }
  loadGiscus();
</script>
</div> <!-- /content -->




</body></html>