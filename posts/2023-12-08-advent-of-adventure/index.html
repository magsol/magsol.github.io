<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Shannon Quinn">

<title>Stochastic Stenography - Advent of Adventure</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XHDW9H78Z1"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XHDW9H78Z1', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Stochastic Stenography - Advent of Adventure">
<meta property="og:description" content="The Venn diagram of life, job, and hobbies is three nonoverlapping circles">
<meta property="og:image" content="https://magsol.github.io/posts/2023-12-08-advent-of-adventure/heralds_mordor_full.jpg">
<meta property="og:site_name" content="Stochastic Stenography">
<meta property="og:locale" content="en_US">
<meta property="og:image:alt" content="A gritty image from behind a small group of heroes, facing down a massive robotic army, in a shattered land that looks a lot like Mordor (generated by DALL-E).">
<meta name="twitter:title" content="Stochastic Stenography - Advent of Adventure">
<meta name="twitter:description" content="The Venn diagram of life, job, and hobbies is three nonoverlapping circles">
<meta name="twitter:image" content="https://magsol.github.io/posts/2023-12-08-advent-of-adventure/heralds_mordor_full.jpg">
<meta name="twitter:creator" content="@SpectralFilter">
<meta name="twitter:card" content="summary">
<meta name="twitter:image:alt" content="A gritty image from behind a small group of heroes, facing down a massive robotic army, in a shattered land that looks a lot like Mordor (generated by DALL-E).">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Stochastic Stenography</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Advent of Adventure</h1>
            <p class="subtitle lead">The Venn diagram of life, job, and hobbies is three nonoverlapping circles</p>
                                <div class="quarto-categories">
                <div class="quarto-category">personal</div>
                <div class="quarto-category">professional</div>
                <div class="quarto-category">advent of code</div>
                <div class="quarto-category">december adventure</div>
                <div class="quarto-category">rae</div>
                <div class="quarto-category">retropie</div>
                <div class="quarto-category">dall-e</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Shannon Quinn </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">Posted on the 8th of December in the year 2023, at 3:01pm. It was Friday.</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><img src="heralds_mordor_full.jpg" class="preview-image img-fluid" alt="A gritty image from behind a small group of heroes, facing down a massive robotic army, in a shattered land that looks a lot like Mordor (generated by DALL-E)."></p>
<p>This past Monday evening, from a tiny cabin in Dahlonega, GA, I turned to my wife and said: <a href="https://knowyourmeme.com/memes/what-a-week-huh">“What a week, huh?”</a></p>
<p>We had a much-needed mini-vacation in the middle of the week to recoup and relax. It wasn’t nearly long enough to fully come down from the cortisol high but it at least jump-started the process. We even got a hike in, and did some stargazing. Even as relatively small as Athens is, there’s still a lot of light pollution, the lack of which is breathtaking if you can get a little further out.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="milky_way.jpg" class="img-fluid figure-img" alt="A nighttime shot of the stars, including a faintly-visible Milky Way."></p>
<figcaption>It’s tough to see, not the least of which because of iPhone 15’s aggressive low-light compensation, but the Milky Way is visible from the left-middle almost to the branches of the tree.</figcaption>
</figure>
</div>
<p>I’ve felt guilty—for many reasons; there’s never a shortage, but in this case because I’d originally wanted to participate in this year’s <a href="https://adventofcode.com/">Advent of Code</a>. I was introduced to it two years ago, too late to finish it completely, but at the time I enjoyed it. Last year I was too burned out to get more than a few days in, so I was feeling particularly motivated this year.</p>
<p>But then the end-of-semester shenanigans were an order of magnitude worse than expected, and December entered with a bang and from the mountains I lamented not having logged a single activity.</p>
<p>Then I came across <a href="https://eli.li/december-adventure">December Adventure</a>.</p>
<p>I <em>loved</em> the main idea: the goal is just to write a little bit of code, every day, in the month of December. Or, really, to make progress on any project or projects, a little bit each day.</p>
<p>So consider this not only my inaugural <code>#DecemberAdventure</code> post, but a bit of a catch-up on the things I’ve been doing that have brought me a tiny bit of joy in the dismally oversaturated realities of the past couple months.</p>
<section id="retropie-redux" class="level3">
<h3 class="anchored" data-anchor-id="retropie-redux">RetroPie, redux</h3>
<p>Astute readers here may recall that this is <a href="../../posts/2017-01-06-gameify-your-raspberry-pi/index.html">something I’d already done a few years back</a> (ok, <em>several</em> years back, geez). However, that was a Pi 3B+, which did ok with NES and SNES games, but ground to a complete standstill on any 3D games—N64 was beyond it.</p>
<p>Armed with a Pi 4B with 4GB of RAM, I sought to bring RetroPie back! I’d also seen in the documentation that the Nintendo Switch Pro controllers were supported, so getting that working was another goal of mine (rather than the generic USB controllers I’d used last time).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="retropie_open.jpg" class="img-fluid figure-img"></p>
<figcaption>An open view of the Pi inside the SNES enclosure, complete with a fan.</figcaption>
</figure>
</div>
<p>A few other minor changes from last time: now I had a <a href="https://www.canakit.com/raspberry-pi4-retro-gaming-case.html">cool mini-SNES enclosure</a> for the Pi, which came with room for a single fan to help keep things cool. I was pretty sure the fan was overkill, but I figured, what the heck. I also actually wired the Pi to ethernet, rather than relying on wifi like last time. It took a little bit of adjusting, but it was a change I’d wanted to make to our home network backbone anyway.</p>
<p>The result: a snazzy new RetroPie!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="retropie.jpg" class="img-fluid figure-img"></p>
<figcaption>The SNES enclosure, with power and ethernet cables plugged in.</figcaption>
</figure>
</div>
<p>I did still run into some issues with getting the <a href="https://retropie.org.uk/docs/Nintendo-Switch-Controllers/">Nintendo Switch Pro controller</a> working. Specifically, the Bluetooth: <a href="https://retropie.org.uk/forum/topic/34226/cannot-pair-nintendo-switch-pro-controller/7">this issue in the discussion forum</a> mirrored my problems exactly. I could turn on diagnostics for the Pi and see that it was detecting every single button press and stick movement, but for some reason those changes weren’t being propagated to the <a href="https://retropie.org.uk/docs/Controller-Configuration/">emulator software</a>.</p>
<p>In the end, I plugged the Pro controllers into the back of the Pi, and they worked beautifully. It just meant I had to sit on the floor, feet from my TV, in order to play. Like the days of Yore, I suppose.</p>
</section>
<section id="chatgpt-and-dall-e-for-science" class="level3">
<h3 class="anchored" data-anchor-id="chatgpt-and-dall-e-for-science">ChatGPT and DALL-E, for “science”</h3>
<p>I recently started a new collaboration investigating the utility of commercial LLMs—specifically, <a href="https://platform.openai.com/docs/guides/vision">the new GPT 4 with vision</a>—in understanding, deciphering, and analyzing biomedical image data.</p>
<p>I’ve thrown a little bit of my [OPENLY AVAILABLE] data at it. To use the academic lingo: the performance to date has been decidedly unimpressive. But work continues.</p>
<p>Nevertheless, it’s also given me the opportunity to play around again with image generators (I stopped paying Midjourney a long time ago). In particular, I’ve been keen to see if ChatGPT’s integration with DALL-E has allowed for better <em>iteration</em> on images—carrying over context from previous image prompts to iterate on and improve subsequent images.</p>
<p>With Midjourney, iteration often entailed copy/pasting the previous prompt and making subtle changes that I thought would give me what I was looking for. Here, I was hopeful that, given the conversational interface with ChatGPT, I could now just tweak the things I wanted to change by “having a chat.”</p>
<p>Yet again, I was disappointed. But I did come up with some interesting mash-ups. Inspired by a <a href="ai_symposium_keynote.jpg">recent keynote speech</a> at our Institute of AI Symposium, I wanted to see what favorite universes of mine I could combine.</p>
<p>If anyone has read any of Brandon Sanderson’s Stormlight Archive, they will immediately recognize <a href="https://coppermind.net/wiki/Herald">the ten Heralds</a>. For those who haven’t: think of the Heralds as <em>deeply flawed and damaged, likely insane</em> superheroes. Maybe not “The Boys” level awful, but certainly not your aw-shucks-go-team plucky Avengers.</p>
<p>Well, I tried putting them in different situations. First I tried oil paintings in the medieval ages.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="heralds_medieval.jpg" class="img-fluid figure-img"></p>
<figcaption>The 10 Heralds, depicted in a medieval oil painting style.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="heralds_medieval2.jpg" class="img-fluid figure-img"></p>
<figcaption>A second attempt at the same image.</figcaption>
</figure>
</div>
<p>In both cases, you may notice… there are more than 10 individuals. I couldn’t find a way to <em>guarantee</em> the number I was asking for, as you’ll see.</p>
<p>Next I tried the Heralds in the Lego universe.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="heralds_lego.jpg" class="img-fluid figure-img"></p>
<figcaption>The 10 Heralds as LEGO heroes.</figcaption>
</figure>
</div>
<p>Again, it <em>seems</em> as though there are 11 people? And what’s with the bird motif, suddenly? I said nothing about birds.</p>
<p>This continues when I tried putting the Heralds in the Marvel Avengers universe.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="heralds_avengers.jpg" class="img-fluid figure-img"></p>
<figcaption>The 10 Heralds as the Avengers.</figcaption>
</figure>
</div>
<p>Again, I count 11 individuals, with no fewer than three wearing Iron Man-like powered suits. You can’t <em>all</em> be Iron Man!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="heralds_avengers2.jpg" class="img-fluid figure-img"></p>
<figcaption>The 10 Heralds as the Avengers, again.</figcaption>
</figure>
</div>
<p>Once more, the weird bird motif shows up, despite no mention of birds in the prompt (or any part of the ChatGPT discussion thread). There also only seem to be 9? And Captain America’s shield is just… floating there. I do love that Iron Spider suit, though; I wonder which Herald that is.</p>
<p>From here I tried pitting the Heralds against <em>Legend of Zelda: Tears of the Kingdom</em> enemies, but set in <em>The Expanse</em> universe.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="heralds_mordor.jpg" class="img-fluid figure-img"></p>
<figcaption>The 10 Heralds fighting demonic robots on a shattered landscape in a gritty world.</figcaption>
</figure>
</div>
<p>As far as I can tell, there are only 5 Heralds, but otherwise this picture is pretty cool. I love how Mordor-esque the landscape is, and even though the robot army bears no resemblance to anything in <em>Tears of the Kingdom</em>, it’s still pretty neat.</p>
<p>The second attempt was a lot closer to what I was looking for:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="heralds_vs_guardians.jpg" class="img-fluid figure-img"></p>
<figcaption>The 10 Heralds fighting demonic spider-like robots on a shattered landscape in a gritty world.</figcaption>
</figure>
</div>
<p>Still only 9 Heralds as far as I can tell, and again the humanoid robots aren’t recognizable, BUT I <em>love</em> the giant arachnid enemies. I can definitely see that as an <em>Expanse</em>-ification of the classic <em>Breath of the Wild</em> <a href="https://zelda.fandom.com/wiki/Guardian">Guardians</a>.</p>
<p>From here I tried a smattering of other things.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="jez_as_pres.jpg" class="img-fluid figure-img"></p>
<figcaption>A United States Presidential headshot of Jezrien, the leader of the Heralds.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kaladin_botw.jpg" class="img-fluid figure-img"></p>
<figcaption>A picture of Kaladin, one of the Knights Radiant, in the art style of Breath of the Wild.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="roci_as_zonai.jpg" class="img-fluid figure-img"></p>
<figcaption>A depiction of the Rocinante, the Martian gunship from The Expanse, if it were engineered as a Zonai construct from Tears of the Kingdom.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="roci_in_hateno.jpg" class="img-fluid figure-img"></p>
<figcaption>Another depiction of the Rocinante, this time showing it having landed in Hateno Village, in the art style of Breath of the Wild.</figcaption>
</figure>
</div>
<p>Each one of these deviates significantly from what I would have expected, which is not a problem per se. I would say that they do seem to have a tendency to gravitate toward certain modes, and it’s <em>really hard</em> to pull the image generators off those modes.</p>
</section>
<section id="rae-rae-rae-your-robot" class="level3">
<h3 class="anchored" data-anchor-id="rae-rae-rae-your-robot">Rae rae rae your robot</h3>
<p>I backed the Luxonis kickstarter last year for the <a href="https://shop.luxonis.com/collections/oak-cameras-1/products/rae">rae robots</a> (Robotics Access for Everyone), and since getting them, they’ve been… tricky.</p>
<p>The forums are full of folks just <a href="https://discuss.luxonis.com/t/rae">trying to get them working</a>, and the associated documentation is extremely sparse to entirely nonexistent. It’s a brand-new product, but the team definitely hasn’t had a chance to catch up on the documentation side.</p>
<p>I ended up getting things working, but it required multiple lines of advice combined in different ways.</p>
<p>Firstly, I started with the <a href="https://docs-beta.luxonis.com/hardware/rae/get-started/?v=Advanced+%28manual%29">Advanced (manual) setup</a>, and this… ended up being impossible, at least if you want your rae to show up on Robothub (which, currently, is the only way to install and run apps). I’ll write a later post documenting this side, but suffice to say, it just doesn’t work.</p>
<p>Secondly, I couldn’t get the hard reset button on the bottom of the rae to work. I may have been doing it wrong. But I found <a href="https://discuss.luxonis.com/d/2328-newbee-quick-starter-to-get-code/3">this excellent post outlining a “soft reset”</a> that worked perfectly.</p>
<p>Thirdly, from the moment I pushed the power button on the rae, I just pointed it at the QR code from Robothub (linked from the <a href="https://docs-beta.luxonis.com/hardware/rae/get-started/?v=RobotHub+Cloud">Cloud setup instructions</a>) and held it there for several minutes. Eventually, the lights started flashing blue at regular intervals and the screen indicated it was connecting to my local wifi network. The rest worked as advertised (even if the lights turn red, apparently this is a known bug).</p>
<p>I haven’t done anything else with them yet, except name them.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="rae.jpg" class="img-fluid figure-img" alt="Two rae robots, with name tags on their tops: one says 'koume', the other says 'kotake'."></p>
<figcaption>Zelda fans, unite.</figcaption>
</figure>
</div>
</section>
<section id="whats-next" class="level3">
<h3 class="anchored" data-anchor-id="whats-next">What’s next?</h3>
<p>Consider this my first official entry into <code>#DecemberAdventure</code>, and maybe retroactively through the whole month of December so far.</p>
<p>After today, I’ll try to post regular updates on Mastodon about my <code>#DecemberAdventure</code> activities. Now the semester is <em>largely</em> over—there are still some outstanding obligations, but without class there should be more time for tinkering.</p>
<p>And relaxing.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="coffee_shop_fireplace.jpg" class="img-fluid figure-img" alt="First-person perspective of the interior of a warm and cozy coffee shop, with a fireplace at one end. There's a coffee table in the middle, a decorated Christmas tree on the right, and other decorations are hung on the mantle. A painting of a reindeer is on the wall above the fireplace."></p>
<figcaption>More of this, please.</figcaption>
</figure>
</div>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{quinn2023,
  author = {Quinn, Shannon},
  title = {Advent of {Adventure}},
  date = {2023-12-08},
  url = {https://magsol.github.io/2023-12-08-advent-of-adventure},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-quinn2023" class="csl-entry quarto-appendix-citeas" role="listitem">
Quinn, Shannon. 2023. <span>“Advent of Adventure.”</span> December 8,
2023. <a href="https://magsol.github.io/2023-12-08-advent-of-adventure">https://magsol.github.io/2023-12-08-advent-of-adventure</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="magsol/magsol.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyNzYwNTYxNw==" data-category="Announcements" data-category-id="DIC_kwDOAaU6cc4CTutY" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="dark" data-lang="en" crossorigin="anonymous" data-loading="lazy" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="dark">
<input type="hidden" id="giscus-alt-theme" value="dark">
</div> <!-- /content -->




</body></html>